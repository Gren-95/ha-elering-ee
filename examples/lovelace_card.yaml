# Example Lovelace Cards for Elering Estonia Integration

# ============================================
# Simple Current Price Card
# ============================================
type: entity
entity: sensor.elering_ee_electricity_price
name: Electricity Price
icon: mdi:flash

---

# ============================================
# Detailed Statistics Card
# ============================================
type: entities
title: ‚ö° Electricity Prices
entities:
  - entity: sensor.elering_ee_electricity_price
    name: Current Price
    icon: mdi:flash
  - type: divider
  - type: attribute
    entity: sensor.elering_ee_electricity_price
    attribute: is_cheap
    name: Is Cheap?
    icon: mdi:tag
  - type: attribute
    entity: sensor.elering_ee_electricity_price
    attribute: price_rank
    name: Price Rank
    icon: mdi:podium
  - type: attribute
    entity: sensor.elering_ee_electricity_price
    attribute: price_percent_to_average
    name: vs Average
    suffix: "%"
  - type: divider
  - type: attribute
    entity: sensor.elering_ee_electricity_price
    attribute: average
    name: Average Today
    suffix: c/kWh
  - type: attribute
    entity: sensor.elering_ee_electricity_price
    attribute: min
    name: Min Today
    suffix: c/kWh
  - type: attribute
    entity: sensor.elering_ee_electricity_price
    attribute: max
    name: Max Today
    suffix: c/kWh
  - type: divider
  - type: attribute
    entity: sensor.elering_ee_electricity_price
    attribute: peak_average
    name: Peak Average (7-23)
    suffix: c/kWh
  - type: attribute
    entity: sensor.elering_ee_electricity_price
    attribute: off_peak_average
    name: Off-Peak Average (23-7)
    suffix: c/kWh

---

# ============================================
# Gauge Card - Visual Price Indicator
# ============================================
type: gauge
entity: sensor.elering_ee_electricity_price
name: Current Electricity Price
min: 0
max: 20
segments:
  - from: 0
    color: "#00ff00"  # Green - cheap
  - from: 8
    color: "#ffff00"  # Yellow - moderate
  - from: 12
    color: "#ff9900"  # Orange - expensive
  - from: 16
    color: "#ff0000"  # Red - very expensive

---

# ============================================
# Markdown Card - Price Summary
# ============================================
type: markdown
content: |
  ## ‚ö° Electricity Price Summary

  **Current Price:** {{ states('sensor.elering_ee_electricity_price') }} c/kWh
  {% if state_attr('sensor.elering_ee_electricity_price', 'is_cheap') %}
  üü¢ **Status:** CHEAP - Good time to use electricity!
  {% else %}
  üî¥ **Status:** EXPENSIVE - Consider waiting
  {% endif %}

  **Price Rank:** {{ state_attr('sensor.elering_ee_electricity_price', 'price_rank') }}
  **vs Average:** {{ state_attr('sensor.elering_ee_electricity_price', 'price_percent_to_average') }}%

  ---

  **Today's Stats:**
  - Min: {{ state_attr('sensor.elering_ee_electricity_price', 'min') }} c/kWh
  - Avg: {{ state_attr('sensor.elering_ee_electricity_price', 'average') }} c/kWh
  - Max: {{ state_attr('sensor.elering_ee_electricity_price', 'max') }} c/kWh

---

# ============================================
# Conditional Card - Show Warning When Expensive
# ============================================
type: conditional
conditions:
  - condition: template
    value_template: "{{ not state_attr('sensor.elering_ee_electricity_price', 'is_cheap') }}"
card:
  type: markdown
  content: |
    ‚ö†Ô∏è **Electricity is expensive right now!**

    Current: {{ states('sensor.elering_ee_electricity_price') }} c/kWh
    ({{ state_attr('sensor.elering_ee_electricity_price', 'price_percent_to_average') }}% of average)

    Consider delaying high-consumption activities.
